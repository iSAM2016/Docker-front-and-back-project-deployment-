### 后端项目搭载与负载均衡

1. 因为我们后端的Mysql数据库和Redis数据库都配置了集群的功能，所以修改配置文件改成我们数据库的集群。
2. 完成以后，因为不可能只搭建一个java后端项目，我们想着出问题了那之前的数据库集群也都白费了，所以搭建了三个java后端项目，端口分别是 *6001 ,6002,6003* 。 但是我们访问不可能还记录端口，并且请求都落在同一个端口上面岂不是压力就会很大，所以想到了使用nginx负载均衡。
3. 这个时候我们就搭建一个nginx1负载均衡，端口映射到**6101** 端口，就可以使用主机ip地址+6101 端口进行访问，这个时候我们做了尝试发现就算是停掉一个java容器还是可以继续运行。
4. 但是我们又想到了要是对于这个nginx节点也出现了问题呢，不还是会所有的端口都不能能够正常访问，所以我们又创建了一个nginx节点，端口是6201，这个时候，两个端口都可以进行访问。
5. 当然我们创建多个端口的意义就是能够实现双机，就使用到了keepalived，我们在之前配置好的两个nginx容器都安装keepalived并修改配置文件，实现ip地址的映射。这样就可以使用到虚拟的ip地址+6201端口进行访问。
6. 所以前端访问 **192.168.99.151 6201**端口，转发到**192.168.99.101:6101,192.168.99.101:6201**上(两个nginx)。然后每一个nginx结点下面都有 **192.168.99.6001,6002,6003**三个java服务器，保证在一个nginx出现故障并且java容器也出现故障的时候还能够提供正常的服务。



以上就是对于后端项目的搭载与负载大体概括，具体可以参看我**CSDN**上文章[后端项目部署](https://blog.csdn.net/weixin_44015043/article/details/105869962),
里面有更加具体讲解与详述。具体的配置文件参见[配置文件](https://github.com/maycope/Docker-front-and-back-project-deployment-/tree/master/后端集群)，里面有具体的每一个部分的细节配置，
大家可以结合文章进行自我理解与配置。
